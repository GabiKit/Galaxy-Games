<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Galaxy Games - Ultimate Edition</title>
    <style>
        body { margin: 0; overflow: hidden; font-family: 'Segoe UI', sans-serif; background-color: #000; user-select: none; }
        
        /* --- UI LOBBY --- */
        #lobby-ui {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            display: flex; flex-direction: column; align-items: center;
            z-index: 10;
        }
        h1.galaxy-title {
            font-size: 80px; color: transparent;
            background: linear-gradient(to right, #ff00cc, #3333ff, #00ccff);
            -webkit-background-clip: text; background-clip: text;
            text-shadow: 0 0 20px rgba(0, 100, 255, 0.5);
            margin-top: 50px; text-transform: uppercase; letter-spacing: 5px;
        }
        .subtitle { color: white; font-size: 20px; opacity: 0.8; margin-top: -40px; }

        /* --- UI WSPÓLNE --- */
        #return-btn {
            display: none;
            position: absolute; top: 20px; right: 20px;
            padding: 10px 20px; background: #ff3333; color: white; border: none;
            cursor: pointer; font-weight: bold; border-radius: 5px;
            pointer-events: auto; z-index: 1000; border: 2px solid white;
        }
        #return-btn:hover { background: #cc0000; }
        
        #tooltip {
            position: absolute; color: white; background: rgba(0,0,0,0.8);
            padding: 5px 10px; border-radius: 5px; pointer-events: none;
            display: none; transform: translate(-50%, -150%); border: 1px solid white;
            font-size: 14px; z-index: 20;
        }

        /* --- UI OBBY --- */
        #obby-ui { display: none; position: absolute; top: 20px; left: 20px; color: white; font-weight: bold; z-index: 10; pointer-events: none; }
        
        /* --- UI CLICKER --- */
        #clicker-ui {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #222, #000);
            flex-direction: column; align-items: center; justify-content: center;
            z-index: 15; pointer-events: auto; color: white;
        }
        #clicker-btn {
            width: 200px; height: 200px; border-radius: 50%; background: orange;
            border: 5px solid #fff; font-size: 24px; cursor: pointer;
            box-shadow: 0 0 50px orange; transition: transform 0.1s;
        }
        #clicker-btn:active { transform: scale(0.95); }

        /* --- UI MINECRAFT (BlockSurvive) --- */
        #minecraft-container { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 15; pointer-events: auto; }
        canvas.mc-game { display:block; margin:auto; background:#87c9ff; image-rendering:pixelated; width: 100%; height: 100%; object-fit: contain; }
        #mc-ui { position:absolute; top:10px; left:10px; color: white; font-family: monospace; font-size: 20px; pointer-events: none;}
        #mc-hotbar { position:absolute; bottom:10px; left:50%; transform:translateX(-50%); display: flex; }
        .slot { width:50px; height:50px; border:2px solid #555; background:#222; margin:2px; line-height:50px; text-align: center; color: white; font-family: monospace; font-size: 20px; }
        .active { border-color:yellow; }
        #mc-craft, #mc-furnace {
            position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
            background:#222; border:3px solid #777; padding:20px; display:none; color: white; font-family: monospace;
        }
        .mc-btn { margin: 5px; padding: 5px; cursor: pointer; background: #444; color: white; border: 1px solid #888; }
    </style>
</head>
<body>

    <div id="lobby-ui">
        <h1 class="galaxy-title">GALAXY GAMES</h1>
        <p class="subtitle">Wybierz grę</p>
    </div>

    <button id="return-btn">WRÓĆ DO LOBBY</button>
    <div id="tooltip"></div>

    <div id="obby-ui">
        <div id="score" style="font-size: 24px;">Level: 1</div>
        <div id="checkpoint-info" style="font-size: 14px; color: yellow; display:none;">ZAPISANO CHECKPOINT!</div>
    </div>

    <div id="clicker-ui">
        <h1>GABI CLICKER</h1>
        <h2 id="click-score">Punkty: 0</h2>
        <button id="clicker-btn">KLIK!</button>
    </div>

    <div id="minecraft-container">
        <canvas id="mc-canvas" width="640" height="360" class="mc-game"></canvas>
        <div id="mc-ui">❤️ HP: <span id="hp">10</span></div>
        <div id="mc-hotbar"></div>
        
        <div id="mc-craft">
            <h3>Crafting</h3>
            <button class="mc-btn" onclick="mcCraft('plank')">2 Wood → Plank</button><br>
            <button class="mc-btn" onclick="mcCraft('stick')">2 Plank → 2 Stick</button><br>
            <button class="mc-btn" onclick="mcCraft('furnace')">8 Stone → Furnace</button><br>
            <button class="mc-btn" onclick="mcToggle('mc-craft')">Zamknij</button>
        </div>
        <div id="mc-furnace">
            <h3>Furnace</h3>
            <button class="mc-btn" onclick="mcSmelt()">Iron Ore + Coal → Iron</button><br>
            <button class="mc-btn" onclick="mcToggle('mc-furnace')">Zamknij</button>
        </div>
    </div>

    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
    </script>

    <script type="module">
        import * as THREE from 'three';

        // --- KONFIGURACJA OBRAZKÓW ---
        const IMAGE_OBBY = 'obby_icon.png';
        const IMAGE_CLICKER = 'clicker_icon.png';
        const IMAGE_MINECRAFT = 'minecraft_icon.png';

        // --- ZMIENNE ---
        let scene, camera, renderer;
        let currentState = 'LOBBY';
        let portals = [], raycaster = new THREE.Raycaster(), mouse = new THREE.Vector2();
        
        // OBBY
        let playerGroup, platforms = [], obbyCheckpoint = new THREE.Vector3(0, 2, 0);
        let velocityY = 0, onGround = false;
        let keys = {w:false, a:false, s:false, d:false, space:false};
        let camTheta = Math.PI, camPhi = Math.PI/3;

        // CLICKER
        let clickScore = 0;

        // MINECRAFT ZMIENNE
        let mcCtx, mcLoopId;
        const TILE=16, W=120, H=60;
        let world=[], mobs=[], player={x:60,y:20,hp:10}, selected=0, time=0, night=false;
        const BLOCKS={air:null,grass:"#4caf50",dirt:"#8d6e63",stone:"#9e9e9e",coal_ore:"#444",iron_ore:"#cfd8dc",wood:"#a1887f",leaf:"#2e7d32",plank:"#c49a6c",furnace:"#ff9800"};
        let inv={grass:0,dirt:0,stone:0,wood:0,plank:0,stick:0,coal:0,iron_ore:0,iron_ingot:0,furnace:0};
        let hotbarList=["grass","dirt","stone","wood","plank"];

        // START
        init();

        function init() {
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            
            initLobby();
            animate();
        }

        // --- LOBBY ---
        function initLobby() {
            switchState('LOBBY');
            document.exitPointerLock();
            
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x050510);
            scene.fog = new THREE.FogExp2(0x050510, 0.02);
            camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.set(0, 2, 11);
            
            scene.add(new THREE.AmbientLight(0xffffff, 0.8));
            
            // Gwiazdy
            const starsGeo = new THREE.BufferGeometry();
            const starsPos = [];
            for(let i=0; i<3000; i++) starsPos.push((Math.random()-0.5)*120, (Math.random()-0.5)*120, (Math.random()-0.5)*120);
            starsGeo.setAttribute('position', new THREE.Float32BufferAttribute(starsPos, 3));
            scene.add(new THREE.Points(starsGeo, new THREE.PointsMaterial({color: 0xffffff, size: 0.1})));

            // Portale
            const texLoader = new THREE.TextureLoader();
            const loadTex = (p) => texLoader.load(p, undefined, undefined, () => {});
            
            portals = [];
            const data = [
                {name: "OBBY", color: 0xaa00ff, map: loadTex(IMAGE_OBBY), action: initObby},
                {name: "CLICKER", color: 0xffaa00, map: loadTex(IMAGE_CLICKER), action: initClicker},
                {name: "MINECRAFT", color: 0x00aa00, map: loadTex(IMAGE_MINECRAFT), action: initMinecraft}, // Nowy MC
                {name: "LOCKED", color: 0x222222, map: null, action: null},
                {name: "LOCKED", color: 0x222222, map: null, action: null}
            ];

            for(let i=0; i<5; i++) {
                const geo = new THREE.SphereGeometry(1.3, 32, 32);
                const mat = new THREE.MeshStandardMaterial({
                    color: data[i].map ? 0xffffff : data[i].color, map: data[i].map,
                    roughness: 0.2, metalness: 0.4, emissive: data[i].color, emissiveIntensity: 0.3
                });
                const mesh = new THREE.Mesh(geo, mat);
                mesh.position.set((i-2)*4, 1.5, 0);
                mesh.userData = {info: data[i]};
                scene.add(mesh);
                portals.push(mesh);

                const ring = new THREE.Mesh(new THREE.TorusGeometry(1.6, 0.15, 16, 32), new THREE.MeshStandardMaterial({color: data[i].action ? 0x00ccff : 0x444444}));
                ring.rotation.x = Math.PI/2; ring.position.set((i-2)*4, -0.5, 0);
                scene.add(ring);
            }
        }

        // --- OBBY ---
        function initObby() {
            switchState('OBBY');
            document.body.requestPointerLock();
            
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x87CEEB);
            scene.fog = new THREE.Fog(0x87CEEB, 20, 80);
            camera = new THREE.PerspectiveCamera(70, window.innerWidth/window.innerHeight, 0.1, 1000);
            camTheta = Math.PI; camPhi = Math.PI/3;

            scene.add(new THREE.HemisphereLight(0xffffff, 0x444444, 0.7));
            const dir = new THREE.DirectionalLight(0xffffff, 1.2);
            dir.position.set(30, 50, 30);
            dir.castShadow = true;
            dir.shadow.mapSize.set(2048, 2048);
            scene.add(dir);

            platforms = [];
            createPlatform(0,0,0, 6,1,6, 0xffffff, 'box'); // Start

            let z = -5;
            obbyCheckpoint.set(0, 2, 0);
            
            for(let i=0; i<600; i++) {
                const col = new THREE.Color().setHSL((i%40)/40, 0.9, 0.5);
                if(i>0 && i%40===0) {
                    createPlatform(0,0,z-3, 6,1,6, 0x111111, 'box', true);
                    z-=8; continue;
                }
                const r = Math.random();
                // TRUDNIEJSZE POZIOMY
                if(r<0.4) { z-=4.5; createPlatform(0,0,z, 2.0,0.5,2.0, col, 'box'); } // Mniejsze bloki, wieksze skoki
                else if(r<0.7) { z-=4.5; createPlatform(0,0,z, 2.0,2.0,2.0, col, 'sphere'); } // Kulki
                else { z-=5.0; createPlatform(0,0,z, 1.0,0.5,4.0, col, 'box'); } // Belka
            }
            createPlatform(0,0,z-10, 15,1,15, 0x00ff00, 'box');
            createPlayer();
        }

        function createPlatform(x,y,z,w,h,d,col,shape,isCheck=false) {
            let geo = shape==='sphere' ? new THREE.SphereGeometry(w/2, 32, 32) : new THREE.BoxGeometry(w,h,d);
            const mat = new THREE.MeshStandardMaterial({color: col, roughness: 0.3});
            if(isCheck) { mat.emissive = 0x333333; mat.color.setHex(0x000000); }
            const mesh = new THREE.Mesh(geo, mat);
            mesh.position.set(x,y,z);
            mesh.receiveShadow = true; mesh.castShadow = true;
            if(isCheck) mesh.userData.checkpoint = true;
            scene.add(mesh);
            platforms.push(mesh);
        }

        function createPlayer() {
            playerGroup = new THREE.Group();
            const mY = new THREE.MeshStandardMaterial({color: 0xFFD700});
            const mB = new THREE.MeshStandardMaterial({color: 0x0044FF});
            const mG = new THREE.MeshStandardMaterial({color: 0x44AA00});

            // MNIEJSZY GRACZ (Skala 0.5)
            const model = new THREE.Group();
            const torso = new THREE.Mesh(new THREE.BoxGeometry(1,1,0.5), mB); torso.position.y=1.5;
            const head = new THREE.Mesh(new THREE.BoxGeometry(0.6,0.6,0.6), mY); head.position.y=2.3;
            const legL = new THREE.Mesh(new THREE.BoxGeometry(0.4,1,0.5), mG); legL.position.set(-0.25,0.5,0);
            const legR = new THREE.Mesh(new THREE.BoxGeometry(0.4,1,0.5), mG); legR.position.set(0.25,0.5,0);
            const armL = new THREE.Mesh(new THREE.BoxGeometry(0.3,1,0.3), mY); armL.position.set(-0.7,1.5,0);
            const armR = new THREE.Mesh(new THREE.BoxGeometry(0.3,1,0.3), mY); armR.position.set(0.7,1.5,0);
            
            model.add(torso, head, legL, legR, armL, armR);
            model.rotation.y = Math.PI; // Obrót tyłem
            model.scale.set(0.6, 0.6, 0.6); // SKALOWANIE W DÓŁ

            playerGroup.add(model);
            playerGroup.children[0].children.forEach(c => c.castShadow = true);
            playerGroup.position.copy(obbyCheckpoint);
            scene.add(playerGroup);
        }

        // --- CLICKER ---
        function initClicker() {
            switchState('CLICKER');
            renderer.clear();
        }

        // --- MINECRAFT (2D Canvas) ---
        function initMinecraft() {
            switchState('MINECRAFT');
            // Resetuj
            world=[]; mobs=[]; player={x:60,y:20,hp:10}; inv={grass:0,dirt:0,stone:0,wood:0,plank:0,stick:0,coal:0,iron_ore:0,iron_ingot:0,furnace:0};
            mcGenWorld();
            mcLoop();
        }

        // --- MINECRAFT LOGIKA ---
        function mcGenWorld(){
            for(let y=0;y<H;y++){world[y]=[];for(let x=0;x<W;x++){
                if(y>38) world[y][x]=Math.random()<0.05?"iron_ore":Math.random()<0.1?"coal_ore":"stone";
                else if(y>32) world[y][x]="dirt"; else if(y===32) world[y][x]="grass"; else world[y][x]="air";
            }}
            for(let i=0;i<20;i++){
                let x=Math.floor(Math.random()*W),y=31;
                for(let t=0;t<4;t++) world[y-t][x]="wood";
                for(let lx=-2;lx<=2;lx++) for(let ly=-2;ly<=0;ly++) world[y-4+ly][x+lx]="leaf";
            }
        }
        function mcDraw(){
            const c = document.getElementById('mc-canvas');
            const ctx = c.getContext('2d');
            ctx.fillStyle=night?"#001018":"#87c9ff"; ctx.fillRect(0,0,640,360);
            for(let y=0;y<H;y++)for(let x=0;x<W;x++){
                let b=world[y][x];
                if(BLOCKS[b]){ ctx.fillStyle=BLOCKS[b]; ctx.fillRect((x-player.x)*TILE+320,(y-player.y)*TILE+180,TILE,TILE); }
            }
            mobs.forEach(m=>{ ctx.fillStyle="purple"; ctx.fillRect((m.x-player.x)*TILE+320,(m.y-player.y)*TILE+180,TILE,TILE); });
            ctx.fillStyle="red"; ctx.fillRect(320,180,TILE,TILE);
        }
        function mcUpdate(){
            time++; if(time%600===0) night=!night;
            if(night && Math.random()<0.02) mobs.push({x:player.x+8,y:player.y});
            mobs.forEach(m=>{
                if(m.x<player.x)m.x++; if(m.x>player.x)m.x--;
                if(Math.abs(m.x-player.x)<=1 && Math.abs(m.y-player.y)<=1){ player.hp--; document.getElementById('hp').innerText=player.hp; }
            });
        }
        function mcDrawUI(){
            const hb = document.getElementById('mc-hotbar'); hb.innerHTML="";
            hotbarList.forEach((b,i)=>{
                let d=document.createElement("div"); d.className="slot"+(i===selected?" active":"");
                d.textContent=inv[b]||0; hb.appendChild(d);
            });
        }
        function mcLoop(){
            if(currentState!=='MINECRAFT') return;
            mcUpdate(); mcDraw(); mcDrawUI();
            requestAnimationFrame(mcLoop);
        }
        
        // Globalne funkcje dla przycisków HTML
        window.mcCraft = (t) => {
            if(t==="plank"&&inv.wood>=2){inv.wood-=2;inv.plank++}
            if(t==="stick"&&inv.plank>=2){inv.plank-=2;inv.stick+=2}
            if(t==="furnace"&&inv.stone>=8){inv.stone-=8;inv.furnace++}
        };
        window.mcSmelt = () => { if(inv.iron_ore>0&&inv.coal>0){inv.iron_ore--;inv.coal--;inv.iron_ingot++} };
        window.mcToggle = (id) => { let e=document.getElementById(id); e.style.display=e.style.display==="block"?"none":"block"; };

        // --- OBSŁUGA STANU ---
        function switchState(newState) {
            currentState = newState;
            // Ukryj wszystko
            ['lobby-ui','obby-ui','clicker-ui','minecraft-container','return-btn'].forEach(id => document.getElementById(id).style.display = 'none');
            // Pokaż odpowiednie
            if(newState==='LOBBY') document.getElementById('lobby-ui').style.display = 'flex';
            if(newState==='OBBY') { document.getElementById('obby-ui').style.display = 'block'; document.getElementById('return-btn').style.display = 'block'; }
            if(newState==='CLICKER') { document.getElementById('clicker-ui').style.display = 'flex'; document.getElementById('return-btn').style.display = 'block'; }
            if(newState==='MINECRAFT') { document.getElementById('minecraft-container').style.display = 'block'; document.getElementById('return-btn').style.display = 'block'; }
        }

        // --- STEROWANIE ---
        document.getElementById('return-btn').addEventListener('click', initLobby);
        document.getElementById('clicker-btn').addEventListener('click', () => { clickScore++; document.getElementById('click-score').innerText="Punkty: "+clickScore; });

        window.addEventListener('keydown', e => {
            if(e.code==='KeyW') {keys.w=true; if(currentState==='MINECRAFT') player.y--;}
            if(e.code==='KeyS') {keys.s=true; if(currentState==='MINECRAFT') player.y++;}
            if(e.code==='KeyA') {keys.a=true; if(currentState==='MINECRAFT') player.x--;}
            if(e.code==='KeyD') {keys.d=true; if(currentState==='MINECRAFT') player.x++;}
            if(e.code==='Space' && currentState==='OBBY' && onGround) { velocityY=0.35; onGround=false; }
            if(currentState==='MINECRAFT') {
                if(e.key>="1"&&e.key<="5") selected=e.key-1;
                if(e.key==="e") window.mcToggle("mc-craft");
                if(e.key==="f") window.mcToggle("mc-furnace");
            }
        });
        window.addEventListener('keyup', e => {
            if(e.code==='KeyW') keys.w=false; if(e.code==='KeyS') keys.s=false;
            if(e.code==='KeyA') keys.a=false; if(e.code==='KeyD') keys.d=false;
        });

        window.addEventListener('mousemove', e => {
            if(document.pointerLockElement===document.body && currentState==='OBBY') {
                camTheta -= e.movementX*0.003; camPhi -= e.movementY*0.003;
                if(camPhi<0.1)camPhi=0.1; if(camPhi>Math.PI-0.1)camPhi=Math.PI-0.1;
            }
            mouse.x = (e.clientX/window.innerWidth)*2-1; mouse.y = -(e.clientY/window.innerHeight)*2+1;
        });

        window.addEventListener('mousedown', e => {
            if(currentState==='LOBBY') {
                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(portals);
                if(intersects.length>0 && intersects[0].object.userData.info.action) intersects[0].object.userData.info.action();
            }
            else if(currentState==='OBBY') document.body.requestPointerLock();
            else if(currentState==='MINECRAFT') {
                let tx=Math.floor((e.offsetX-320)/TILE+player.x);
                let ty=Math.floor((e.offsetY-180)/TILE+player.y);
                if(!world[ty]||!world[ty][tx])return;
                if(e.button===0 && world[ty][tx]!=="air"){
                    let b=world[ty][tx];
                    if(b==="coal_ore"){inv.coal++; b="stone";}
                    if(b==="iron_ore"){inv.iron_ore++; b="stone";}
                    inv[b]=(inv[b]||0)+1; world[ty][tx]="air";
                }
                if(e.button===2){
                    let b=hotbarList[selected];
                    if(inv[b]>0 && world[ty][tx]==="air"){ world[ty][tx]=b; inv[b]--; }
                }
            }
        });

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth/window.innerHeight; camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- PĘTLA THREE.JS ---
        function animate() {
            requestAnimationFrame(animate);
            if(currentState==='LOBBY') {
                portals.forEach(p => p.rotation.y += 0.01);
                raycaster.setFromCamera(mouse, camera);
                const hits = raycaster.intersectObjects(portals);
                document.body.style.cursor = hits.length>0 ? 'pointer' : 'default';
                const tooltip = document.getElementById('tooltip');
                if(hits.length>0) {
                    tooltip.style.display='block'; tooltip.style.left=(event.clientX+10)+'px'; tooltip.style.top=(event.clientY+10)+'px';
                    tooltip.innerText=hits[0].object.userData.info.name;
                } else tooltip.style.display='none';
                renderer.render(scene, camera);
            }
            else if(currentState==='OBBY') {
                const speed=0.15; // Wolniejszy ruch dla małego gracza
                const dx = (Number(keys.d)-Number(keys.a)), dz = (Number(keys.s)-Number(keys.w));
                if(dx!==0 || dz!==0) {
                    const sin = Math.sin(camTheta), cos = Math.cos(camTheta);
                    const vx = (dx*cos + dz*sin)*speed; const vz = (-dx*sin + dz*cos)*speed;
                    playerGroup.position.x += vx; playerGroup.position.z += vz;
                    playerGroup.rotation.y = Math.atan2(vx, vz) + Math.PI;
                    const t = Date.now()*0.02;
                    playerGroup.children[0].children[2].rotation.x = Math.sin(t);
                    playerGroup.children[0].children[3].rotation.x = -Math.sin(t);
                }
                playerGroup.position.y += velocityY; velocityY -= 0.015; onGround=false;
                
                const feetY = playerGroup.position.y;
                for(let p of platforms) {
                    if(Math.abs(p.position.z - playerGroup.position.z) > 6) continue;
                    // Mniejszy hitbox dla małego gracza
                    const bounds = new THREE.Box3().setFromObject(p);
                    const margin = 0.4; // Trudniej!
                    if(playerGroup.position.x > bounds.min.x - margin && playerGroup.position.x < bounds.max.x + margin &&
                       playerGroup.position.z > bounds.min.z - margin && playerGroup.position.z < bounds.max.z + margin) {
                        if(feetY >= bounds.max.y-0.5 && feetY <= bounds.max.y+1.0 && velocityY<=0) {
                            playerGroup.position.y = bounds.max.y; velocityY=0; onGround=true;
                            if(p.userData.checkpoint && p.position.z < obbyCheckpoint.z-2) {
                                obbyCheckpoint.copy(playerGroup.position).add(new THREE.Vector3(0,0.1,0));
                                const info = document.getElementById('checkpoint-info');
                                info.style.display='block'; setTimeout(()=>info.style.display='none',2000);
                            }
                        }
                    }
                }
                if(playerGroup.position.y < -15) { playerGroup.position.copy(obbyCheckpoint); velocityY=0; }
                const cd = 6;
                camera.position.set(
                    playerGroup.position.x + Math.sin(camTheta)*Math.sin(camPhi)*cd,
                    playerGroup.position.y + Math.cos(camPhi)*cd,
                    playerGroup.position.z + Math.cos(camTheta)*Math.sin(camPhi)*cd
                );
                camera.lookAt(playerGroup.position.x, playerGroup.position.y+0.5, playerGroup.position.z); // Patrz na małego gracza
                renderer.render(scene, camera);
            }
        }
    </script>
</body>
</html>
